<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>悲伤的橘子树</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="不相信自己的人没有努力的价值。   -- 迈特凯">
<meta name="keywords" content="悲伤的橘子树">
<meta property="og:type" content="website">
<meta property="og:title" content="悲伤的橘子树">
<meta property="og:url" content="http://fankekeke.club/page/7/index.html">
<meta property="og:site_name" content="悲伤的橘子树">
<meta property="og:description" content="不相信自己的人没有努力的价值。   -- 迈特凯">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="悲伤的橘子树">
<meta name="twitter:description" content="不相信自己的人没有努力的价值。   -- 迈特凯">
  
    <link rel="alternate" href="/atom.xml" title="悲伤的橘子树" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">悲伤的橘子树</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fankekeke.club"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-MybatisSQL映射文件" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/06/MybatisSQL映射文件/" class="article-date">
  <time datetime="2018-11-06T00:40:36.000Z" itemprop="datePublished">2018-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SSM/">SSM</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/06/MybatisSQL映射文件/">MybatisSQL映射文件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="sql映射文件顶级元素配置"><a href="#sql映射文件顶级元素配置" class="headerlink" title="sql映射文件顶级元素配置"></a>sql映射文件顶级元素配置</h2><p>mapper：映射元素的根节点，只有一个属性namespace，用于区分不同的mapper，绑定dao接口<br>cache：配置给命名空间引用缓存<br>cache-ref：从其他命名空间引用缓存配置<br>resultMap：描述数据库结果集和对象的对应关系<br>sql：可以重用的sql块</p>
<h3 id="insert：插入语句"><a href="#insert：插入语句" class="headerlink" title="insert：插入语句"></a>insert：插入语句</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=<span class="string">"add"</span> parameterType=<span class="string">"Destineinfo"</span>&gt;</span><br><span class="line">INSERT INTO</span><br><span class="line">destineinfo(room_name,destine_time,destine_name,dress)</span><br><span class="line">VALUES(<span class="comment">#&#123;room_name&#125;,#&#123;destine_time&#125;,#&#123;destine_name&#125;,#&#123;dress&#125;)</span></span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></table></figure>
<h3 id="delete：删除语句"><a href="#delete：删除语句" class="headerlink" title="delete：删除语句"></a>delete：删除语句</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=<span class="string">"dele"</span>&gt;</span><br><span class="line">DELETE FROM destineinfo <span class="built_in">where</span> id=<span class="comment">#&#123;id&#125;</span></span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure>
<h3 id="update：更新语句"><a href="#update：更新语句" class="headerlink" title="update：更新语句"></a>update：更新语句</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id=<span class="string">"modify"</span> parameterType=<span class="string">"Destineinfo"</span>&gt;</span><br><span class="line">UPDATE destineinfo SET</span><br><span class="line">room_name=<span class="comment">#&#123;room_name&#125;,destine_name=#&#123;destine_name&#125;</span></span><br><span class="line"><span class="built_in">where</span> id=<span class="comment">#&#123;id&#125;</span></span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure>
<h3 id="select：查询语句"><a href="#select：查询语句" class="headerlink" title="select：查询语句"></a>select：查询语句</h3><p>namespace的命名必须和某个dao接口相同，已Mapper结尾<br>接口中的方法与映射文件中的sql语句id要对应的 눈<em>눈<br>select属性<br>id：命名空间的唯一标识符，要和接口的方法一致눈</em>눈<br>parameterType：传入参数的类型，可以是类，或基本数据类型<br>resultType：查询语句返回结果类型，可以是类，或基本数据类型</p>
<h4 id="使用map入参查询"><a href="#使用map入参查询" class="headerlink" title="使用map入参查询"></a>使用map入参查询</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">"getMap"</span> resultType=<span class="string">"Destineinfo"</span> parameterType=<span class="string">"Map"</span>&gt;</span><br><span class="line">SELECT * FROM destineinfo WHERE destine_name LIKE</span><br><span class="line">CONCAT(<span class="string">'%'</span>,<span class="comment">#&#123;name&#125;,'%')</span></span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>
<p>map对象.put(“name”,姓名)；</p>
<h4 id="使用resultMap完成查询结果的展现"><a href="#使用resultMap完成查询结果的展现" class="headerlink" title="使用resultMap完成查询结果的展现"></a>使用resultMap完成查询结果的展现</h4><p>用于数据库字段名不同与实体类的属性名 ，可以进行自动映射</p>
<h4 id="resultMap自动映射-FULL"><a href="#resultMap自动映射-FULL" class="headerlink" title="resultMap自动映射(FULL)"></a>resultMap自动映射(FULL)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 设置resultMap的自动映射级别为none(禁止自动匹配) --&gt;</span><br><span class="line">&lt;!-- &lt;setting name=<span class="string">"autoMappingBehavior"</span> value=<span class="string">"NONE"</span>/&gt; --&gt;</span><br></pre></td></tr></table></figure>
<h4 id="自动映射前提：字段名和属性名要一致"><a href="#自动映射前提：字段名和属性名要一致" class="headerlink" title="自动映射前提：字段名和属性名要一致"></a>自动映射前提：字段名和属性名要一致</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;result property=<span class="string">"id"</span> column=<span class="string">"id"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"room_name"</span> column=<span class="string">"room_name"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"destine_time"</span> column=<span class="string">"destine_time"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"destine_name"</span> column=<span class="string">"destine_name"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"dressName"</span> column=<span class="string">"dressName"</span> /&gt;</span><br></pre></td></tr></table></figure>
<h5 id="使用resultType完成查询结果的展现"><a href="#使用resultType完成查询结果的展现" class="headerlink" title="使用resultType完成查询结果的展现"></a>使用resultType完成查询结果的展现</h5><h5 id="直接返回类型，包括基本数据类型和复杂数据类型"><a href="#直接返回类型，包括基本数据类型和复杂数据类型" class="headerlink" title="直接返回类型，包括基本数据类型和复杂数据类型"></a>直接返回类型，包括基本数据类型和复杂数据类型</h5><h4 id="resultType和resultMap只能有一个"><a href="#resultType和resultMap只能有一个" class="headerlink" title="resultType和resultMap只能有一个"></a>resultType和resultMap只能有一个</h4><h4 id="使用-param实现多参数入参"><a href="#使用-param实现多参数入参" class="headerlink" title="使用@param实现多参数入参"></a>使用@param实现多参数入参</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xml中id为updateName的id和destine_name</span><br><span class="line">public int updateName(@Param(<span class="string">"id"</span>)Integer id,@Param(<span class="string">"destine_name"</span>)String name);</span><br></pre></td></tr></table></figure>
<h3 id="高级映射"><a href="#高级映射" class="headerlink" title="高级映射"></a>高级映射</h3><h4 id="association"><a href="#association" class="headerlink" title="association"></a>association</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap <span class="built_in">type</span>=<span class="string">"Destineinfo"</span> id=<span class="string">"userRoleResult"</span>&gt; &lt;id property=<span class="string">"id"</span></span><br><span class="line">column=<span class="string">"id"</span> /&gt; &lt;result property=<span class="string">"room_name"</span> column=<span class="string">"room_name"</span>/&gt; &lt;result</span><br><span class="line">property=<span class="string">"destine_time"</span> column=<span class="string">"destine_time"</span>/&gt; &lt;result property=<span class="string">"destine_name"</span></span><br><span class="line">column=<span class="string">"destine_name"</span>/&gt; &lt;association property=<span class="string">"dress2"</span> javaType=<span class="string">"Dress"</span>&gt;</span><br><span class="line">&lt;id property=<span class="string">"id"</span> column=<span class="string">"r_id"</span> /&gt; &lt;result property=<span class="string">"dressName"</span> column=<span class="string">"dressName"</span>/&gt;</span><br><span class="line">&lt;/association&gt; &lt;/resultMap&gt; association映射 &lt;select id=<span class="string">"getListByDressid"</span> resultMap=<span class="string">"userRoleResult"</span></span><br><span class="line">parameterType=<span class="string">"Integer"</span>&gt; SELECT d.*,s.id as r_id,s.dressName FROM destineinfo</span><br><span class="line">d, dress s WHERE d.dress=<span class="comment">#&#123;dress&#125; and d.dress=s.id &lt;/select&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以内嵌<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;association property=<span class="string">"dress2"</span> javaType=<span class="string">"Dress"</span> resultMap=<span class="string">"roleResult"</span> /&gt;</span><br><span class="line">&lt;resultMap <span class="built_in">type</span>=<span class="string">"Dress"</span> id=<span class="string">"roleResult"</span>&gt;</span><br><span class="line">&lt;id property=<span class="string">"id"</span> column=<span class="string">"r_id"</span>/&gt;</span><br><span class="line">&lt;result property=<span class="string">"dressName"</span> column=<span class="string">"dressName"</span>/&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br></pre></td></tr></table></figure></p>
<p>使用对象 1对1<br>association属性<br>property：实体对象的属性，此处为user里定义的Role类对象role<br>javaType：完整的Java类名或别名</p>
<h4 id="collection"><a href="#collection" class="headerlink" title="collection"></a>collection</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap <span class="built_in">type</span>=<span class="string">"Destineinfo"</span> id=<span class="string">"userAddressResult"</span>&gt;</span><br><span class="line">&lt;id property=<span class="string">"id"</span> column=<span class="string">"id"</span>/&gt;</span><br><span class="line">&lt;result property=<span class="string">"room_name"</span> column=<span class="string">"room_name"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"destine_time"</span> column=<span class="string">"destine_time"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"destine_name"</span> column=<span class="string">"destine_name"</span> /&gt;</span><br><span class="line">&lt;result property=<span class="string">"dress"</span> column=<span class="string">"dress"</span> /&gt;</span><br><span class="line">&lt;collection property=<span class="string">"addressList"</span> ofType=<span class="string">"Dress"</span> resultMap=<span class="string">"Addresss"</span> /&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br><span class="line">&lt;resultMap <span class="built_in">type</span>=<span class="string">"Dress"</span> id=<span class="string">"Addresss"</span>&gt;</span><br><span class="line">&lt;id property=<span class="string">"id"</span> column=<span class="string">"r_id"</span>/&gt;</span><br><span class="line">&lt;result property=<span class="string">"dressName"</span> column=<span class="string">"dressName"</span>/&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br></pre></td></tr></table></figure>
<p>collection属性<br>property：实体对象的属性<br>ofType：完整的Java类名或别名<br>使用集合 1对多</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/06/MybatisSQL映射文件/" data-id="cjrabl6n6000kvkdqp0juvb8s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-初识Mybatis" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/06/初识Mybatis/" class="article-date">
  <time datetime="2018-11-06T00:24:07.000Z" itemprop="datePublished">2018-11-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SSM/">SSM</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/06/初识Mybatis/">初识Mybatis</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="部署mybatis"><a href="#部署mybatis" class="headerlink" title="部署mybatis"></a>部署mybatis</h2><h3 id="部署jar包"><a href="#部署jar包" class="headerlink" title="部署jar包"></a>部署jar包</h3><h3 id="创建database-properties和mybatis-configl-xml文件"><a href="#创建database-properties和mybatis-configl-xml文件" class="headerlink" title="创建database.properties和mybatis-configl.xml文件"></a>创建database.properties和mybatis-configl.xml文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">database.properties</span><br><span class="line">driver=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/boardroom?useUnicode=<span class="literal">true</span>&amp;characterEncoding=utf-8</span><br><span class="line">user=root</span><br><span class="line">password=123456</span><br></pre></td></tr></table></figure>
<h3 id="mybatis-configl-xml-最重要的核心文件"><a href="#mybatis-configl-xml-最重要的核心文件" class="headerlink" title="mybatis-configl.xml 最重要的核心文件"></a>mybatis-configl.xml 最重要的核心文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">PUBLIC <span class="string">"-//mybatis.org//DTD Config 3.0//EN"</span></span><br><span class="line"><span class="string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- 引入database.properties文件 --&gt;</span><br><span class="line">&lt;properties resource=<span class="string">"database.properties"</span> /&gt;</span><br><span class="line">&lt;!-- 配置mybatis的<span class="built_in">log</span>实现为LOG4J --&gt;</span><br><span class="line">&lt;settings&gt;</span><br><span class="line">&lt;setting name=<span class="string">"logImpl"</span> value=<span class="string">"LOG4J"</span> /&gt;</span><br><span class="line">&lt;/settings&gt;</span><br><span class="line">&lt;typeAliases&gt;</span><br><span class="line">&lt;typeAlias <span class="built_in">alias</span>=<span class="string">"user"</span> <span class="built_in">type</span>=<span class="string">"cn.entity.User"</span>/&gt;</span><br><span class="line">&lt;typeAlias <span class="built_in">alias</span>=<span class="string">"product"</span> <span class="built_in">type</span>=<span class="string">"cn.entity.Product"</span>/&gt;</span><br><span class="line">&lt;package name=<span class="string">"cn.entity"</span>/&gt;</span><br><span class="line">&lt;/typeAliases&gt;</span><br><span class="line">&lt;!-- 配置mybatis多套运行环境 --&gt;</span><br><span class="line">&lt;environments default=<span class="string">"development"</span>&gt;</span><br><span class="line">&lt;environment id=<span class="string">"development"</span>&gt;</span><br><span class="line">&lt;!-- 配置事务管理,采用JDBC的事务管理 --&gt;</span><br><span class="line">&lt;transactionManager <span class="built_in">type</span>=<span class="string">"JDBC"</span>&gt;&lt;/transactionManager&gt;</span><br><span class="line">&lt;!-- POOLED:mybatis自带的数据源,JNDI:基于tomcat的数据源 --&gt;</span><br><span class="line">&lt;dataSource <span class="built_in">type</span>=<span class="string">"POOLED"</span>&gt;</span><br><span class="line">&lt;property name=<span class="string">"driver"</span> value=<span class="string">"<span class="variable">$&#123;driver&#125;</span>"</span>/&gt;</span><br><span class="line">&lt;property name=<span class="string">"url"</span> value=<span class="string">"<span class="variable">$&#123;url&#125;</span>"</span>/&gt;</span><br><span class="line">&lt;property name=<span class="string">"username"</span> value=<span class="string">"<span class="variable">$&#123;user&#125;</span>"</span>/&gt;</span><br><span class="line">&lt;property name=<span class="string">"password"</span> value=<span class="string">"<span class="variable">$&#123;password&#125;</span>"</span>/&gt;</span><br><span class="line">&lt;/dataSource&gt;</span><br><span class="line">&lt;/environment&gt;</span><br><span class="line">&lt;/environments&gt;</span><br><span class="line">&lt;!-- 将mapper文件加入到配置文件中 --&gt;</span><br><span class="line">&lt;mappers&gt;</span><br><span class="line">&lt;mapper resource=<span class="string">"cn/entity/ProductMapper.xml"</span>/&gt;</span><br><span class="line">&lt;mapper resource=<span class="string">"cn/entity/DestineinfoMapper.xml"</span>/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h3 id="util包下创建MyBatisUtil-java文件"><a href="#util包下创建MyBatisUtil-java文件" class="headerlink" title="util包下创建MyBatisUtil.java文件"></a>util包下创建MyBatisUtil.java文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">private static SqlSessionFactory factory;</span><br><span class="line">static&#123;</span><br><span class="line">InputStream is;</span><br><span class="line">try &#123;</span><br><span class="line">is = Resources.getResourceAsStream(<span class="string">"mybatis-configl.xml"</span>);</span><br><span class="line">factory=new SqlSessionFactoryBuilder().build(is);</span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line">// TODO Auto-generated catch block</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">public static SqlSession <span class="function"><span class="title">CreateSqlSession</span></span>()&#123;</span><br><span class="line"><span class="built_in">return</span> factory.openSession(<span class="literal">false</span>); //<span class="literal">true</span>为自动提交事务</span><br><span class="line">&#125;</span><br><span class="line">public static void closeSqlSession(SqlSession sqlSession)&#123;</span><br><span class="line"><span class="keyword">if</span>(null!=sqlSession)&#123;</span><br><span class="line">sqlSession.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="dao层创建接口-以实体类名字-mapper命名"><a href="#dao层创建接口-以实体类名字-mapper命名" class="headerlink" title="dao层创建接口,以实体类名字+mapper命名"></a>dao层创建接口,以实体类名字+mapper命名</h3><h3 id="entity层创建实体类和实体类名字-mapper-xml"><a href="#entity层创建实体类和实体类名字-mapper-xml" class="headerlink" title="entity层创建实体类和实体类名字+mapper.xml"></a>entity层创建实体类和实体类名字+mapper.xml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">namespace建议使用接口地址，进行增删改查</span><br><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">PUBLIC <span class="string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span><br><span class="line"><span class="string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">"cn.dao.impl.DestineinfoMapper"</span>&gt;</span><br><span class="line">&lt;!-- 查询用户表记录数 --&gt;</span><br><span class="line">&lt;select id=<span class="string">"selall"</span> resultType=<span class="string">"Destineinfo"</span>&gt;</span><br><span class="line">SELECT * FROM destineinfo</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<h3 id="创建测试类"><a href="#创建测试类" class="headerlink" title="创建测试类"></a>创建测试类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void <span class="function"><span class="title">testGetUserList</span></span>()&#123;</span><br><span class="line">SqlSession sqlSession=null;</span><br><span class="line">List&lt;Destineinfo&gt;userList=new ArrayList&lt;Destineinfo&gt;();</span><br><span class="line">try &#123;</span><br><span class="line">sqlSession=MyBatisUtil.CreateSqlSession();</span><br><span class="line">userList=sqlSession.getMapper(DestineinfoMapper.class).selall();</span><br><span class="line">&#125; catch (Exception e) &#123;</span><br><span class="line">// TODO: handle exception</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;finally &#123;</span><br><span class="line">MyBatisUtil.closeSqlSession(sqlSession);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (Destineinfo destineinfo : userList) &#123;</span><br><span class="line">logger.debug(<span class="string">"testGetUserList userCodeL"</span>+destineinfo.getId()+<span class="string">"--"</span>+destineinfo.getRoom_name()+<span class="string">"--"</span>+destineinfo.getDestine_name()+<span class="string">"------"</span>+destineinfo.getDestine_time());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="mybatis核心对象"><a href="#mybatis核心对象" class="headerlink" title="mybatis核心对象"></a>mybatis核心对象</h2><h3 id="SqlSessionFactoryBuilder"><a href="#SqlSessionFactoryBuilder" class="headerlink" title="SqlSessionFactoryBuilder"></a>SqlSessionFactoryBuilder</h3><p>负责构建SqlSessionFactory，特点：用过就丢，SqlSessionFactory创建后就不不需要存在了</p>
<h3 id="SqlSessionFactory"><a href="#SqlSessionFactory" class="headerlink" title="SqlSessionFactory"></a>SqlSessionFactory</h3><p>创建SqlSession实例的工厂，SqlSession通过SqlSessionFactory的openSession()来获取<br>openSession()的参数为bollean类型时，true为关闭事务控制，自动提交，不穿参数，默认为true<br>一旦创建始终存在,不建议创建多个</p>
<h3 id="SqlSession"><a href="#SqlSession" class="headerlink" title="SqlSession"></a>SqlSession</h3><p>用于持久化操作的对象，类似与jdbc的connection，提供了面向数据库sql命令的所有方法<br>使用SqlSession的两种方法<br>通过sqlSession实例直接执行已映射的sql语句<br>通过mapper接口方法操作数据</p>
<h2 id="mybatis-configl-xml的核心元素"><a href="#mybatis-configl-xml的核心元素" class="headerlink" title="mybatis-configl.xml的核心元素"></a>mybatis-configl.xml的核心元素</h2><h3 id="typeAliases"><a href="#typeAliases" class="headerlink" title="typeAliases"></a>typeAliases</h3><p>配置类型别名<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;typeAliases&gt;</span><br><span class="line">&lt;typeAlias <span class="built_in">alias</span>=<span class="string">"user"</span> <span class="built_in">type</span>=<span class="string">"cn.entity.User"</span>/&gt;</span><br><span class="line">&lt;typeAlias <span class="built_in">alias</span>=<span class="string">"product"</span> <span class="built_in">type</span>=<span class="string">"cn.entity.Product"</span>/&gt;</span><br><span class="line">&lt;package name=<span class="string">"cn.entity"</span>/&gt;</span><br><span class="line">&lt;/typeAliases&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="mappers"><a href="#mappers" class="headerlink" title="mappers"></a>mappers</h3><p>映射器<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">&lt;mapper resource=<span class="string">"cn/entity/ProductMapper.xml"</span>/&gt;</span><br><span class="line">&lt;mapper resource=<span class="string">"cn/entity/DestineinfoMapper.xml"</span>/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/06/初识Mybatis/" data-id="cjrabl6rb003cvkdqsxhx05l1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-漫漫归家路" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/05/漫漫归家路/" class="article-date">
  <time datetime="2018-11-05T13:25:24.000Z" itemprop="datePublished">2018-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/05/漫漫归家路/">漫漫归家路</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="漫漫归家路"><a href="#漫漫归家路" class="headerlink" title="漫漫归家路"></a>漫漫归家路</h2><p>其实我喊了一次又一次，每一次，都清醒的认识到果然没有人回应我，无论怎么呼唤，怎么祈祷，还是有无法实现的东西。<br> 最后还是没能找到家，迷路了，累到了，然后，我决定不在呼唤无法给予我回应的东西。——《夏目友人帐》漫漫回家路</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/05/漫漫归家路/" data-id="cjrabl6ri003ovkdqj1c5bo8f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-S8决赛IG3-0夺冠" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/04/S8决赛IG3-0夺冠/" class="article-date">
  <time datetime="2018-11-04T00:54:00.000Z" itemprop="datePublished">2018-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/04/S8决赛IG3-0夺冠/">S8决赛IG3:0夺冠</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>　　一个纨绔的老板，</p>
<p>　　一个没战队要的上单，</p>
<p>　　一个附赠的中单，</p>
<p>　　一个借来的打野，</p>
<p>　　一个直播抓来的ad，</p>
<p>　　一个双排排到的辅助，</p>
<p>　　一支没什么人看好的战队，</p>
<p>　　一场全球总决赛冠军，</p>
<p>　　一座山，山后是你们的故事</p>
<p>　　恭喜IG</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/04/S8决赛IG3-0夺冠/" data-id="cjrabl6nu0018vkdqm9cawu04" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-理想乡" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/02/理想乡/" class="article-date">
  <time datetime="2018-11-01T23:45:27.000Z" itemprop="datePublished">2018-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/02/理想乡/">理想乡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="理想乡"><a href="#理想乡" class="headerlink" title="理想乡"></a>理想乡</h2><h3 id="孤独な巡礼"><a href="#孤独な巡礼" class="headerlink" title="孤独な巡礼"></a>孤独な巡礼</h3><pre><code class="bash">我在这世上活着
手无寸铁
没有任何人站在我的身后
挡住汹涌的风
更没有人能站在我的面前
挡住浩瀚的阳光

我在这世上活着
怀抱一小弦洁净
像黑夜抱着月亮那样慎重
怀抱着一大束荆棘
像土地抱着青草那样深情
怀抱着一大捧冰雪
像群山怀抱着清泉一样珍重

我在这世上活着
一切规章一切守则都是假设
他们说 你得有人 才是真的
我抱紧我自己
我有我自己
抱得更紧更牢靠一些啊
我的尊严 我的本份 我人的样子

我活在这世上
手无寸铁
没有刀锋 没有尖锐的刺
从不无往不利 从不春风得意
我站立的姿势比剑优美
我沉醉的笑容比花绚丽
我写字的认真比诵经虔诚
我痛哭的声音比长歌真实

我活在这世上
手无寸铁
我活在这世上
自强自立 自得其美
我只有 自己
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/02/理想乡/" data-id="cjrabl6rr0045vkdqkg3tjzc6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Oracle数据库应用" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/01/Oracle数据库应用/" class="article-date">
  <time datetime="2018-11-01T14:50:09.000Z" itemprop="datePublished">2018-11-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Oracle/">Oracle</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/01/Oracle数据库应用/">Oracle数据库应用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><h3 id="什么是索引"><a href="#什么是索引" class="headerlink" title="什么是索引"></a>什么是索引</h3><p>索引是对数据库表中一列或多列的值进行排序的一种结构,索引会帮助您更快地获得该信息</p>
<h3 id="索引分为几类"><a href="#索引分为几类" class="headerlink" title="索引分为几类"></a>索引分为几类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.普通索引   添加INDEX</span><br><span class="line">ALTER TABLE `table_name` ADD INDEX index_name ( `column` )</span><br><span class="line"></span><br><span class="line">下面演示下给user表的name字段添加一个索引</span><br><span class="line"></span><br><span class="line">2.主键索引   添加PRIMARY KEY</span><br><span class="line">ALTER TABLE `table_name` ADD PRIMARY KEY ( `column` )</span><br><span class="line"></span><br><span class="line">3.唯一索引    添加UNIQUE</span><br><span class="line">ALTER TABLE `table_name` ADD UNIQUE ( `column` )</span><br><span class="line"></span><br><span class="line">4.全文索引    添加FULLTEXT</span><br><span class="line">ALTER TABLE `table_name` ADD FULLTEXT ( `column`)</span><br></pre></td></tr></table></figure>
<h3 id="序列可以作为主键，还有什么可以作为主键？"><a href="#序列可以作为主键，还有什么可以作为主键？" class="headerlink" title="序列可以作为主键，还有什么可以作为主键？"></a>序列可以作为主键，还有什么可以作为主键？</h3><p>rowid：就是数据的实际物理地址，rowid没必要自己创建，用户也没有权限创建rowid，它是oracle系统生成的索引</p>
<h3 id="间隔分区和范围分区的区别"><a href="#间隔分区和范围分区的区别" class="headerlink" title="间隔分区和范围分区的区别"></a>间隔分区和范围分区的区别</h3><p>间隔分区实现的自动生成分区</p>
<h3 id="私有同义词和共有同义词的区别"><a href="#私有同义词和共有同义词的区别" class="headerlink" title="私有同义词和共有同义词的区别"></a>私有同义词和共有同义词的区别</h3><p>私有同义词只能在当前模式内访问，且不能与当前模式的对象同名</p>
<p>公有同义词可被所有的数据库用户访问使用</p>
<h2 id="表空间（用来存放各种应用文件）"><a href="#表空间（用来存放各种应用文件）" class="headerlink" title="表空间（用来存放各种应用文件）"></a>表空间（用来存放各种应用文件）</h2><p>一般分为三种<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ 永久性表空间：一般保存表，过程，索引等数据</span><br><span class="line">$ 临时性表空间：只用于保存系统中短期活动的数据，如排序数据</span><br><span class="line">$ 撤销表空间：用来帮助回退为=未提交的事务数据</span><br></pre></td></tr></table></figure></p>
<p>那么为什么要创建表空间呢？<br>对不同用户分配不同的表空间，方便管理<br>有利于管理磁盘空间，提高i/o性能</p>
<h2 id="一些基本的授权"><a href="#一些基本的授权" class="headerlink" title="一些基本的授权"></a>一些基本的授权</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">创建用户没有授权【创建表】</span><br><span class="line">create table student(stu_id number(2),stu_name varchar2(10));</span><br><span class="line">create table student(stu_id number(2),stu_name varchar2(10))</span><br><span class="line">*</span><br><span class="line">第 1 行出现错误:</span><br><span class="line">ORA-01031: 权限不足</span><br><span class="line">?</span><br><span class="line">//使用system用户授权</span><br><span class="line">grant connect,resource to martin; //授权用户connect,resource 权限</span><br><span class="line">grant select on scott.emp to martin; //允许用户查看emp表中记录</span><br><span class="line">grant update on scott.emp to martin; //允许用户修改emp表中记录</span><br></pre></td></tr></table></figure>
<h2 id="同义词（公有和私有-私有只能被当前模式用户访问）"><a href="#同义词（公有和私有-私有只能被当前模式用户访问）" class="headerlink" title="同义词（公有和私有 //私有只能被当前模式用户访问）"></a>同义词（公有和私有 //私有只能被当前模式用户访问）</h2><p>简化sql语句<br>隐藏对象名称和所有者<br>为分布式数据库的远程对象提供了位置透明性<br>提供对象的公共访问</p>
<pre><code class="bash">给用户martin授权同义词
grant create synonym to martin;
?
创建私有同义词
SQL&gt; create synonym sy_emp <span class="keyword">for</span> system.employee;
?
同义词已创建。
?
SQL&gt; select *from sy_emp;
?
创建共有同义词（在物主用户上创建）
SQL&gt; create public synonym public_sy_emp <span class="keyword">for</span> employee;
?
同义词已创建。
?
SQL&gt;
?
删除私有同义词
SQL&gt; drop synonym martin.sy_emp;
?
同义词已删除。
?
SQL&gt;
?
删除共有同义词
SQL&gt; drop public synonym public_sy_emp;
?
同义词已删除。
SQL&gt;

</code></pre>
<h2 id="创建序列"><a href="#创建序列" class="headerlink" title="创建序列"></a>创建序列</h2><p>和就是生成主键要用的，感觉不好用</p>
<pre><code class="bash">SQL&gt; create sequence seq1
  2  start with 10
  3  increment by 1
  4  maxvalue 2000
  5  nocycle
  6  cache 30;
?
序列已创建。
?
SQL&gt; create table toys(toyid number(2), toyname varchar2(10),toyprice number(4,2));
?
表已创建。
?
SQL&gt; insert into toys(toyid,toyname,toyprice)values(seql.nextval,<span class="string">'杰尼龟'</span>,25);
insert into toys(toyid,toyname,toyprice)values(seql.nextval,<span class="string">'杰尼龟'</span>,25)
                                               *
第 1 行出现错误:
ORA-02289: 序列不存在
?
?
SQL&gt; insert into toys(toyid,toyname,toyprice)values(seq1.nextval,<span class="string">'杰尼龟'</span>,25);
?
已创建 1 行。
?
SQL&gt; insert into toys(toyid,toyname,toyprice)values(seq1.nextval,<span class="string">'憨八龟'</span>,35);
?
已创建 1 行。
?
SQL&gt; select * from toys;
?
     TOYID TOYNAME                TOYPRICE
---------- -------------------- ----------
        11 杰尼龟                       25
        12 憨八龟                       35
?
SQL&gt; create table tots(totid number(2), totname varchar2(10),totprice number(4,2));
?
表已创建。
?
SQL&gt; insert into tots(totid,totname,totprice)values(seq1.nextval,<span class="string">'小火龙'</span>,40);
?
已创建 1 行。
?
SQL&gt; insert into tots(totid,totname,totprice)values(seq1.nextval,<span class="string">'毒龙钻'</span>,80);
?
已创建 1 行。
?
SQL&gt; select * from tots;
?
     TOTID TOTNAME                TOTPRICE
---------- -------------------- ----------
        14 小火龙                       40
        15 毒龙钻                       80

</code></pre>
<h2 id="反向键索引"><a href="#反向键索引" class="headerlink" title="反向键索引"></a>反向键索引</h2><p>目的：比如索引值是一个自动增长的列<br>多个用户对集中在少数块上的索引行进行修改，容易引起资源的争用，比如对数据块的等待。此时建立反向索 引。<br>语法：CREATE INDEX index_REVERSE_EMPNO ON table (column) REVERSE;</p>
<h2 id="位图索引"><a href="#位图索引" class="headerlink" title="位图索引"></a>位图索引</h2><p>1、 何时创建：<br>列中有非常多的重复的值时候。例如某列保存了 “性别”信息。<br>Where 条件中包含了很多OR操作符。<br>较少的update操作，因为要相应的跟新所有的bitmap<br>2、 结构：位图索引使用位图作为键值，对于表中的每一数据行位图包含了TRUE(1)、FALSE(0)、或NULL值。<br>3、 优点：位图以一种压缩格式存放，因此占用的磁盘空间比标准索引要小得多<br>4、 语法：CREATE BITMAP INDEX index ON table (column[, column]…);</p>
<h2 id="唯一索引"><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h2><p>1、 何时创建：当某列任意两行的值都不相同<br>2、 当建立Primary Key(主键)或者Unique constraint(唯一约束)时，唯一索引将被自动建立<br>3、 语法：CREATE UNIQUE INDEX index ON table (column);</p>
<h2 id="熟练并背诵"><a href="#熟练并背诵" class="headerlink" title="熟练并背诵"></a>熟练并背诵</h2><p>数据库建立索引的原则<br>1，确定针对该表的操作是大量的查询操作还是大量的增删改操作。<br>?<br>2，尝试建立索引来帮助特定的查询。检查自己的sql语句，为那些频繁在where子句中出现的字段建立索引。<br>?<br>3，尝试建立复合索引来进一步提高系统性能。修改复合索引将消耗更长时间，同时，复合索引也占磁盘空间。<br>?<br>4，对于小型的表，建立索引可能会影响性能<br>?<br>5，应该避免对具有较少值的字段进行索引。<br>?<br>6，避免选择大型数据类型的列作为索引。<br>?<br>索引建立的原则<br>?<br>索引查询是数据库中重要的记录查询方法，要不要进入索引以及在那些字段上建立索引都要和实际数据库系统的查询要求结合来考虑，下面给出实际中的一些通用的原则：<br>?</p>
<ol>
<li>在经常用作过滤器的字段上建立索引；<br>?</li>
<li>在SQL语句中经常进行GROUP BY、ORDER BY的字段上建立索引；<br>?</li>
<li>在不同值较少的字段上不必要建立索引，如性别字段；<br>?</li>
<li>对于经常存取的列避免建立索引；<br>?</li>
<li>用于联接的列（主健/外健）上建立索引；<br>?</li>
<li>在经常存取的多个列上建立复合索引，但要注意复合索引的建立顺序要按照使用的频度来确定；<br>?</li>
<li>缺省情况下建立的是非簇集索引，但在以下情况下最好考虑簇集索引，如：含有有限数目（不是很少）唯一的列；进行大范围的查询；充分的利用索引可以减少表扫描I/0的次数，有效的避免对整表的搜索。当然合理的索引要建立在对各种查询的分析和预测中，也取决于DBA的所设计的数据库结构。</li>
</ol>
<h2 id="范围分区（超好用，就是麻烦）"><a href="#范围分区（超好用，就是麻烦）" class="headerlink" title="范围分区（超好用，就是麻烦）"></a>范围分区（超好用，就是麻烦）</h2><pre><code class="bash">范围分区（数字类型）
create table graderecord  
  (  
  sno varchar2(10),  
  sname varchar2(20),  
  dormitory varchar2(3),  
  grade int  
)  
partition by range(grade)  
(  
  partition bujige values less than(60), --不及格  
  partition jige values less than(85), --及格  
  partition youxiu values less than(maxvalue) --优秀  
)
?
范围分区（日期类型）
create table sales
(
       sales_id number,
       product_id varchar2(5),
       sales_date date not null,
       sales_cost number(10),
       areacode varchar2(10)
)
partition by range(sales_date)
(
       partition p1 values less than(to_date(<span class="string">'2013-04-1'</span>,<span class="string">'yyyy-mm-dd'</span>)),
       partition p2 values less than(to_date(<span class="string">'2013-07-1'</span>,<span class="string">'yyyy-mm-dd'</span>)),
       partition p3 values less than(to_date(<span class="string">'2013-10-1'</span>,<span class="string">'yyyy-mm-dd'</span>)),
       partition p4 values less than(to_date(<span class="string">'2014-01-1'</span>,<span class="string">'yyyy-mm-dd'</span>)),
       partition p5 values less than(maxvalue)
);
insert into sales values(1,<span class="string">'22'</span>,to_date(<span class="string">'2013-04-1'</span>,<span class="string">'yyyy-mm-dd'</span>),92,<span class="string">'美国'</span>);
insert into sales values(2,<span class="string">'22'</span>,to_date(<span class="string">'2013-05-1'</span>,<span class="string">'yyyy-mm-dd'</span>),92,<span class="string">'韩国'</span>);  
insert into sales values(3,<span class="string">'23'</span>,to_date(<span class="string">'2013-08-1'</span>,<span class="string">'yyyy-mm-dd'</span>),92,<span class="string">'中国'</span>);  
insert into sales values(4,<span class="string">'24'</span>,to_date(<span class="string">'2013-11-1'</span>,<span class="string">'yyyy-mm-dd'</span>),92,<span class="string">'日本'</span>);  
insert into sales values(5,<span class="string">'25'</span>,to_date(<span class="string">'2013-09-1'</span>,<span class="string">'yyyy-mm-dd'</span>),92,<span class="string">'俄罗斯'</span>); 

</code></pre>
<h3 id="查询分区情况"><a href="#查询分区情况" class="headerlink" title="查询分区情况"></a>查询分区情况</h3><pre><code class="bash">查询分区情况
SELECT table_name,partition_name,tablespace_name 
FROM user_tab_partitions 
WHERE table_name=UPPER(<span class="string">'sales_interval1'</span>);

</code></pre>
<h2 id="间隔分区表，会自动创建分区"><a href="#间隔分区表，会自动创建分区" class="headerlink" title="间隔分区表，会自动创建分区"></a>间隔分区表，会自动创建分区</h2><pre><code class="bash">===========================================================
|          间隔分区表
============================================================
*/
CREATE TABLE sales_interval1
(sales_id   NUMBER NOT NULL,
 product_id   VARCHAR2(5),
 sales_date   DATE,
 sales_cost   NUMBER(10),
 areacode    VARCHAR2(5)
)
PARTITION BY RANGE(sales_date)
INTERVAL(NUMTOYMINTERVAL(1,<span class="string">'YEAR'</span>))
(PARTITION part1 VALUES LESS THAN (to_date(<span class="string">'2011/01/01'</span>,<span class="string">'yyyy/mm/dd'</span>)))

</code></pre>
<h2 id="使用分区查找信息"><a href="#使用分区查找信息" class="headerlink" title="使用分区查找信息"></a>使用分区查找信息</h2><pre><code class="bash">查看分区并查询信息
SQL&gt; select table_name,partition_name from user_tab_partitions <span class="built_in">where</span> table_name=upper(<span class="string">'sales2'</span>);
?
TABLE_NAME
------------------------------------------------------------
PARTITION_NAME
------------------------------------------------------------
SALES2
P1
?
SALES2
SYS_P24
?
?
SQL&gt; select * from sales2 partition(sys_p24);
?
  SALES_ID PRODUCT_ID SALES_DATE     SALES_COST AREACODE
---------- ---------- -------------- ---------- --------------------
         4 24         01-11月-13             92 日本
         5 25         01-9月 -13             92 俄罗斯
?
SQL&gt; select * from sales2 partition(p1);
?
  SALES_ID PRODUCT_ID SALES_DATE     SALES_COST AREACODE
---------- ---------- -------------- ---------- --------------------
         1 22         01-4月 -13             92 美国
         2 22         01-5月 -13             92 韩国
         3 23         01-8月 -13             92 中国
?
SQL&gt;
?

</code></pre>
<h2 id="今天我是听着Ragga-Bomb-Skrillex完成的"><a href="#今天我是听着Ragga-Bomb-Skrillex完成的" class="headerlink" title="今天我是听着Ragga Bomb -Skrillex完成的"></a>今天我是听着Ragga Bomb -Skrillex完成的</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/01/Oracle数据库应用/" data-id="cjrabl6nq0012vkdqfh9yc51v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-DJ-MAG" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/01/2018-DJ-MAG/" class="article-date">
  <time datetime="2018-11-01T13:25:24.000Z" itemprop="datePublished">2018-11-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/01/2018-DJ-MAG/">漫漫归家路</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="漫漫归家路"><a href="#漫漫归家路" class="headerlink" title="漫漫归家路"></a>漫漫归家路</h2><p>其实我喊了一次又一次，每一次，都清醒的认识到果然没有人回应我，无论怎么呼唤，怎么祈祷，还是有无法实现的东西。<br> 最后还是没能找到家，迷路了，累到了，然后，我决定不在呼唤无法给予我回应的东西。——《夏目友人帐》漫漫回家路</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/01/2018-DJ-MAG/" data-id="cjrabl6mk0001vkdqtr8dxag7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Oracle数据库基础" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/01/Oracle数据库基础/" class="article-date">
  <time datetime="2018-11-01T13:25:24.000Z" itemprop="datePublished">2018-11-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Oracle/">Oracle</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/01/Oracle数据库基础/">Oracle数据库基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Oracle简介"><a href="#Oracle简介" class="headerlink" title="Oracle简介"></a>Oracle简介</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 众所周知，Oracle是个数据库，是Oracle公司的核心产品，优越的数据安全性和完整性，以及跨操作系统，跨硬件平台，主要特点：支持多用户，大事务的事务处理，在保持数据安全性和完整性方面性能优越，支持分布式事务处理，具有可移植性</span><br></pre></td></tr></table></figure>
<h2 id="Oracle基本概念"><a href="#Oracle基本概念" class="headerlink" title="Oracle基本概念"></a>Oracle基本概念</h2><pre><code class="bash">$ 数据库：这不是我们平时所说的数据库，它是磁盘上存储数据的集合
$ 全局数据库名：用于区分一个数据库的标识，要唯一
$ 数据库实例：每个启动的数据库都对应一个数据库实例，有这个实例来访问数据库中的数据
$ 表空间：数据库若干个表空间组成，...
$ 数据文件：数据文件扩展名.dbf 是来存储数据库数据的文件
$ 控制文件：控制文件扩展名.ctl 一个二进制文件,根据控制文件查找数据文件
$ 日志文件：日志文件扩展名.<span class="built_in">log</span>,记录数据更改信息
</code></pre>
<h2 id="Oracle重要的三个服务（建议全部设为手动，玩游戏的时候会卡的）"><a href="#Oracle重要的三个服务（建议全部设为手动，玩游戏的时候会卡的）" class="headerlink" title="Oracle重要的三个服务（建议全部设为手动，玩游戏的时候会卡的）"></a>Oracle重要的三个服务（建议全部设为手动，玩游戏的时候会卡的）</h2><pre><code class="bash">$ OracleServiceSID：Oracle数据库服务，对应名为SID（系统标识符）我的是orcl
$ OracleOraDb11g_home1TNSListener：监听器服务，如果要远程链接数据库服务器，就必须启动它
$ OracleDBConsoleSID：嗯，这个是控制台服务 SID（系统标识符）
</code></pre>
<h2 id="连接Oracle数据库"><a href="#连接Oracle数据库" class="headerlink" title="连接Oracle数据库"></a>连接Oracle数据库</h2><pre><code class="bash">$ SQL*PLUS：system/orcl@orclDB  //system是当前用户，orcl为密码，orclDB为使用的网络服务名
$ PL/SQL Developer：直接输入登录ok了
</code></pre>
<h2 id="Oracle数据类型（列举几个比较难理解的）"><a href="#Oracle数据类型（列举几个比较难理解的）" class="headerlink" title="Oracle数据类型（列举几个比较难理解的）"></a>Oracle数据类型（列举几个比较难理解的）</h2><pre><code class="bash">$ NUMBER(P,S)：p是精度，标识数字的有效位数，不包括小数点后，s标识小数点右边的位数，是四舍五入的哦
$ Date：SYSDATE标识返回当前的日期和时间，SYSTIMESTAMP返回当前的日期和时间和时区（精确到毫秒）可怕
$ LOB数据类型（大对象）：CLOB(字符clob，存储大量文字),BLOB(二进制lob，存储视频，图片这类)，BFILE(二进制文件，存储二进制文件)，NCLOB(存储大的nchar数据)
</code></pre>
<h2 id="Oracle中的伪列"><a href="#Oracle中的伪列" class="headerlink" title="Oracle中的伪列"></a>Oracle中的伪列</h2><p>就像是一个表列，但是它并没有存储到表中，可以查询伪列，但是不能增删改</p>
<pre><code class="bash">$ ROWID：每行都有一个行地址，ROWID就是返回该行地址
$ ROWNUM：返回一个数值代表行的次序，可以限制返回的行数（ROWNUM=1可以查到数据，ROWNUM=2就查不到，ROWNUM&gt;N也差不到，ROWNUM&lt;11查询10条记录）
</code></pre>
<h2 id="查询数据不重复显示-DISTINCT"><a href="#查询数据不重复显示-DISTINCT" class="headerlink" title="查询数据不重复显示(DISTINCT)"></a>查询数据不重复显示(DISTINCT)</h2><p>SELECT DISTINCT stuNmae from student</p>
<h2 id="集合操作符"><a href="#集合操作符" class="headerlink" title="集合操作符"></a>集合操作符</h2><p>UNION：返回连个查询选定的所有不重复行<br>UNION ALL：符合两个查询锁定的所有行，包括重复的行<br>INTERSECT：只返回两个查询都有的行<br>MINUS：只返回第一个选定而未被第二个选定的行</p>
<h2 id="连接操作符（-）"><a href="#连接操作符（-）" class="headerlink" title="连接操作符（||）"></a>连接操作符（||）</h2><p>将两个或多个字符串合并为一个字符串</p>
<h2 id="SQL函数"><a href="#SQL函数" class="headerlink" title="SQL函数"></a>SQL函数</h2><p>常用的转换函数</p>
<pre><code class="bash">$ TO_CHAR 转字符串 （TO_CHAR(SYSDATE，‘YYYY 年fmMM月fmDD日 HH24:MI:SS’)）
$ TO_DATE 转日期类型
$ TO_NUMBER 转数值类型
</code></pre>
<p>其他函数</p>
<pre><code class="bash">$ NVL(EXP1,EXP2)：如果EXP1的值为null，返回EXP2,否则返回EXP1
$ NVL2(EXP1,EXP2,EXP3)：如果EXP1为null，返回EXP3,否则返回EXP2
$ DECODE(VALUE,IF1,THEN1,IF2,THEN2,ELSE)：VALUE值为IF1,则进入THEN1..
</code></pre>
<h2 id="分析函数"><a href="#分析函数" class="headerlink" title="分析函数"></a>分析函数</h2><p>马上11点了.. 我先走了，自行百度</p>
<h2 id="今天我是听着THE-NIGHT-–-Avicii完成的"><a href="#今天我是听着THE-NIGHT-–-Avicii完成的" class="headerlink" title="今天我是听着THE NIGHT – Avicii完成的"></a>今天我是听着THE NIGHT – Avicii完成的</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/01/Oracle数据库基础/" data-id="cjrabl6nw001avkdql3lu01m2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-试问老天，不抵抗是罪吗？" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/01/试问老天，不抵抗是罪吗？/" class="article-date">
  <time datetime="2018-11-01T03:21:34.000Z" itemprop="datePublished">2018-11-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/01/试问老天，不抵抗是罪吗？/">试问老天，不抵抗是罪吗？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="OK-Start"><a href="#OK-Start" class="headerlink" title="OK Start"></a>OK Start</h2><h3 id="任由其他人攀爬丝也会断-那么-“试问老天-不抵抗是罪吗-”太宰治-《人间失格》"><a href="#任由其他人攀爬丝也会断-那么-“试问老天-不抵抗是罪吗-”太宰治-《人间失格》" class="headerlink" title="任由其他人攀爬丝也会断,那么 “试问老天,不抵抗是罪吗?”太宰治 《人间失格》"></a>任由其他人攀爬丝也会断,那么 “试问老天,不抵抗是罪吗?”太宰治 《人间失格》</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">「释迦牟尼看到在地狱挣扎的大盗，他干尽了恶事，但他唯一做的好事就是放过了一只蜘蛛，佛祖考虑救他一命，就取下一缕蛛丝朝着地狱垂了下去大盗无意间看到了这根蜘蛛丝，他顺着爬了上去，却发现后面罪人们跟着一起，自私的叫他们滚开，结果蛛丝断了，他们又回到血色的地狱」</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/11/01/试问老天，不抵抗是罪吗？/" data-id="cjrabl6rn003xvkdqnt2gyie7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-现在是星期三22-10分" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/31/现在是星期三22-10分/" class="article-date">
  <time datetime="2018-10-31T14:11:52.000Z" itemprop="datePublished">2018-10-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/31/现在是星期三22-10分/">现在是星期三22:10分</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="OK-Start"><a href="#OK-Start" class="headerlink" title="OK Start"></a>OK Start</h2><h3 id="今天也是幸福的一天，晚上吃了两个烤馍，一根烤面筋，一根烤肠"><a href="#今天也是幸福的一天，晚上吃了两个烤馍，一根烤面筋，一根烤肠" class="headerlink" title="今天也是幸福的一天，晚上吃了两个烤馍，一根烤面筋，一根烤肠"></a>今天也是幸福的一天，晚上吃了两个烤馍，一根烤面筋，一根烤肠</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 还有一件事，评论发送邮件功能开启</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fankekeke.club/2018/10/31/现在是星期三22-10分/" data-id="cjrabl6rj003pvkdq6eyjhbhn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/分享/">分享</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java工具与中间件/">Java工具与中间件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SSH/">SSH</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SSM/">SSM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringData/">SpringData</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/消息队列/">消息队列</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试题/">面试题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/导航/">导航</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/分享/" style="font-size: 20px;">分享</a> <a href="/tags/导航/" style="font-size: 10px;">导航</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/21/Rabbit交换器/">Rabbit交换器</a>
          </li>
        
          <li>
            <a href="/2019/01/16/监控SpringBoot健康状况/">监控SpringBoot健康状况</a>
          </li>
        
          <li>
            <a href="/2019/01/14/Java获取当前计算机信息/">Java获取当前计算机信息</a>
          </li>
        
          <li>
            <a href="/2019/01/14/三网短信验证码API/">三网短信验证码API</a>
          </li>
        
          <li>
            <a href="/2019/01/11/Quartz/">Quartz</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 樊可<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>